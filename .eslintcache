[{"C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\App.js":"1","C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\components\\Numbers.js":"2","C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\index.js":"3","C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\reportWebVitals.js":"4"},{"size":1535,"mtime":1610163244509,"results":"5","hashOfConfig":"6"},{"size":6659,"mtime":1610326188311,"results":"7","hashOfConfig":"6"},{"size":500,"mtime":1609379346798,"results":"8","hashOfConfig":"6"},{"size":362,"mtime":1609379346798,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12","usedDeprecatedRules":"13"},"1ij22la",{"filePath":"14","messages":"15","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"13"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"13"},"C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\App.js",["21","22","23","24"],"import logo from './logo.svg';\nimport './App.css';\nimport Numbers from './components/Numbers';\n\nimport React, {useState, useEffect} from 'react';\n\n\n\nfunction App() {\n\n  const[show, setShow] = useState(false);\n  const[ticket, setTicket] = useState(0);\n\n  const handleClick = () =>{\n    \n    setShow(true)\n    \n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n            <h1>RIFA BENEFICIENTE DO MAURI E DA ENI</h1>\n            <h2>Serão 3 prêmios</h2>\n            <h3>Sorteio dia 31 de março de 2021</h3>\n            <div className=\"numbers\" onClick={handleClick}>Prêmios</div>\n      </header>\n\n      \n        <Numbers/>\n\n\n            <div className=\"modal\" style={{display:  show ? 'flex' : 'none'}} onClick={()=> {setShow(false)}}>\n                <div className=\"checkout\">\n                    <h1>Prêmios</h1>\n                    <h2>1º Óculos de Sol das óticas Magoo</h2>\n                    <p>2º 1 batedeira cadence </p>\n                    <p>3º 1 kit festa para 30 pessoas </p>\n                    \n\n                    {/* <a href=\"https://www.letecacom.live\" onClick={(e)=>{updateTicket(ticketNumber)}}>Link</a> */}\n                    \n                </div>\n            </div>\n\n\n\n            <footer>\n            <p>O sorteio será realizado dia 31 de março pelos números da loteria federal</p>\n              <p>Desenvolvido por <a href=\"http://www.letecacom.live\"><b>Leteca Comunicação</b></a></p>\n\n            </footer>\n        \n      \n\n\n\n\n    </div>\n  );\n}\n\nexport default App;\n",["25","26"],"C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\components\\Numbers.js",["27","28","29","30"],"import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport '../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCartArrowDown } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function Numbers(props) {\r\n\r\n    const[show, setShow] = useState(false);\r\n    const[ticketNumber, setTicketNumber] = useState({})\r\n    const[tickets, setTickets] = useState([])\r\n    const[cart, setCart] = useState([]);\r\n    const[fullCart, setFullCart] = useState([])\r\n    const[total, setTotal] = useState(0);\r\n    const[link, setLink] = useState(\"\");\r\n\r\n    const[name, setName] = useState(\"\");\r\n    const[email, setEmail] = useState(\"\");\r\n    const[phone, setPhone] = useState(\"\");\r\n    const[numbers, setNumbers] = useState([]);\r\n\r\n    const[out, setOut] = useState(false);\r\n    \r\n\r\n    useEffect(()=>{\r\n        axios.get('https://rifa-beneficiente-mauri.herokuapp.com/numbers')\r\n            .then(res=>{\r\n                setTickets(res.data.sort())\r\n            })\r\n\r\n        if(total === 10){\r\n            setLink(\"https://mpago.la/1YgCovj\")\r\n        }\r\n        else if(total === 20){\r\n            setLink(\"https://mpago.la/1aNQ37Q\")\r\n        }\r\n        else if(total === 30){\r\n            setLink(\"https://mpago.la/2UDJHDw\")\r\n        }\r\n        else if(total === 40){\r\n            setLink(\"https://mpago.la/18ZWviF\")\r\n        }\r\n        else if(total === 50){\r\n            setLink(\"https://mpago.la/2Wrzuad\")\r\n        }        \r\n        else if(total === 60){\r\n            setLink(\"https://mpago.la/1yWetZM\")\r\n        }\r\n        else if(total === 70){\r\n            setLink(\"https://mpago.la/17m5DJZ\")\r\n        }\r\n        else if(total === 80){\r\n            setLink(\"https://mpago.la/2Mmeobw\")\r\n        }\r\n        else if(total === 90){\r\n            setLink(\"https://mpago.la/2mVE9Wt\")\r\n        }\r\n        else if(total === 100){\r\n            setLink(\"https://mpago.la/2BrVH8t\")\r\n        }\r\n            \r\n            \r\n            \r\n            \r\n            \r\n            \r\n\r\n    })\r\n\r\n    const clickedNumber = (props) =>{\r\n        props.active = true;\r\n        console.log(props)\r\n\r\n    }\r\n\r\n    const handleClick = (props) =>{\r\n        if(props.isTaken){\r\n\r\n        }\r\n        else setShow(true)\r\n        setTicketNumber(props);\r\n\r\n    }\r\n\r\n    const addTicket = (props) =>{\r\n        if(cart.includes(props.number) || cart.length > 9){console.log(\"ta aqui já\")}\r\n        else{\r\n            setCart(current=> [...current, props.number]);\r\n            setTotal(current=> current+10);\r\n            setFullCart(current=> [...current, props]);\r\n            \r\n        }        \r\n    }\r\n\r\n\r\n\r\n    const updateTicket = (props) =>{\r\n        \r\n        const numberToUpdate = {\r\n            number: props.number,\r\n            isTaken: true\r\n        }\r\n\r\n        axios.post('https://rifa-beneficiente-mauri.herokuapp.com/numbers/update/'+props._id, numberToUpdate)\r\n        .then(res=> console.log(res.data))\r\n    }\r\n\r\n    const payUp = () =>{\r\n        fullCart.map(number=>(\r\n            updateTicket(number)))\r\n    }\r\n\r\n    const handleSubmit = (e) =>{\r\n        e.preventDefault();\r\n\r\n        const buyer ={\r\n            name: name,\r\n            email: email,\r\n            phone: phone,\r\n            numbers: cart\r\n        }\r\n\r\n        axios.post('https://rifa-beneficiente-mauri.herokuapp.com/numbers/addBuyer', buyer)\r\n        .then(res=> console.log(res.data));\r\n\r\n        payUp();\r\n\r\n        window.location.href = link;\r\n\r\n\r\n\r\n    }\r\n\r\n    return (\r\n    <div>\r\n        <div className=\"cart-banner\">\r\n            <FontAwesomeIcon className=\"icon\" icon={faCartArrowDown} />\r\n            <h1>R$ {total},00    Nº {cart.join(\", \")}</h1>\r\n           <div className=\"pay-button\" onClick={(e)=>{setOut(true)}}>Pagar</div>\r\n\r\n        </div>\r\n\r\n        <div className=\"board\">\r\n                    {tickets.map(ticket=>(\r\n                        <div key={ticket.number} className={ticket.isTaken ? 'numberTaken' : 'numbers'}\r\n                        onClick={(e) => {handleClick(ticket)}}>{ticket.number}</div>\r\n            ))}\r\n\r\n            <div className=\"modal\" style={{display:  show ? 'flex' : 'none'}} onClick={()=> setShow(false)}>\r\n                <div className=\"checkout\">\r\n                    <h1>Checkout R$ {total}</h1>\r\n                    <p>{cart.join(\", \")}</p>\r\n                    <p>Ao clicar no botão abaixo você Adicionará o bilhete escolhido ao carrinho, você pode adicionar até 10 bilhetes por compra.</p>\r\n                    <p>Depois de escolhidos os números basta clicar em Pagar. Não se preocupe! A compra é 100% segura e garantida, em menos de 24hs você receberá o cupom de seu número de rifa no email cadastrado</p>\r\n                    {/* <a href=\"https://www.letecacom.live\" onClick={(e)=>{updateTicket(ticketNumber)}}>Link</a> */}\r\n                    <div className=\"numbers\" onClick={(e)=>{addTicket(ticketNumber)}}>+ Carrinho</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"modal\" style={{display:  out ? 'flex' : 'none'}} >\r\n                <div className=\"checkout\">\r\n                    <p onClick={(e)=>{setOut(false)}}>x</p>\r\n                    <h1>Finalizando compra R$ {total}</h1>\r\n                    <p>{cart.join(\", \")}</p>\r\n                    <p>Por favor insira os seus dados nos campos abaixo</p>\r\n                    <form onSubmit={handleSubmit} >\r\n                        <label>Nome\r\n                            <input type=\"text\" value={name} onChange={e=>setName(e.target.value)}/>\r\n                        </label>\r\n\r\n                        <label>Email\r\n                            <input type=\"text\" value={email} onChange={e=>setEmail(e.target.value)}/>\r\n                        </label>\r\n\r\n                        <label>Telefone\r\n                            <input type=\"number\" value={phone} onChange={e=>setPhone(e.target.value)}/>\r\n                        </label>\r\n                    </form>\r\n                    <p>Agora é só clicar no botão abaixo e você será direcionado a página de pagamento</p>\r\n                    <p>O pagamento é 100% seguro e você pode escolher pagar em cartão de crédito ou boleto bancário</p>\r\n                    <p>Assim que seu pagamento for aprovado você receberá seus bilhetes por email</p>\r\n                    \r\n                    \r\n                    {/* <a href=\"https://www.letecacom.live\" onClick={(e)=>{updateTicket(ticketNumber)}}>Link</a> */}\r\n                   <div className=\"numbers\" onClick={handleSubmit}> Finalizar</div>\r\n                </div>\r\n            </div>          \r\n        </div>\r\n    </div>\r\n\r\n    )\r\n}\r\n","C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\index.js",[],"C:\\Users\\Efraim\\Desktop\\Coding\\code\\rifa\\react\\rifa-app\\src\\reportWebVitals.js",[],{"ruleId":"31","severity":1,"message":"32","line":1,"column":8,"nodeType":"33","messageId":"34","endLine":1,"endColumn":12},{"ruleId":"31","severity":1,"message":"35","line":5,"column":26,"nodeType":"33","messageId":"34","endLine":5,"endColumn":35},{"ruleId":"31","severity":1,"message":"36","line":12,"column":9,"nodeType":"33","messageId":"34","endLine":12,"endColumn":15},{"ruleId":"31","severity":1,"message":"37","line":12,"column":17,"nodeType":"33","messageId":"34","endLine":12,"endColumn":26},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","replacedBy":"41"},{"ruleId":"31","severity":1,"message":"42","line":25,"column":11,"nodeType":"33","messageId":"34","endLine":25,"endColumn":18},{"ruleId":"31","severity":1,"message":"43","line":25,"column":20,"nodeType":"33","messageId":"34","endLine":25,"endColumn":30},{"ruleId":"44","severity":1,"message":"45","line":30,"column":5,"nodeType":"33","endLine":30,"endColumn":14,"suggestions":"46"},{"ruleId":"31","severity":1,"message":"47","line":75,"column":11,"nodeType":"33","messageId":"34","endLine":75,"endColumn":24},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'ticket' is assigned a value but never used.","'setTicket' is assigned a value but never used.","no-native-reassign",["48"],"no-negated-in-lhs",["49"],"'numbers' is assigned a value but never used.","'setNumbers' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setLink'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [total] as a second argument to the useEffect Hook.",["50"],"'clickedNumber' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"51","fix":"52"},"Add dependencies array: [total]",{"range":"53","text":"54"},[2052,2052],", [total]"]